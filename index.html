<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invio Segnalazione al Comune di Genova</title>
    <meta name="description" content="Pagina di conferma per l'invio di una segnalazione al Comune di Genova per un tombino rumoroso.">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: 'Roboto', Arial, sans-serif;
            background-color: #eef2f6;
            color: #2c3e50;
            line-height: 1.6;
        }
        .message-container {
            text-align: center;
            padding: 2em 3em;
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            margin: 1em;
        }
        h1 {
            color: #1a73e8;
            margin-bottom: 0.8em;
            font-size: 2em;
        }
        p {
            margin-bottom: 1.5em;
        }
        .message-container a {
            color: #1a73e8;
            text-decoration: none;
            font-weight: bold;
            transition: color 0.3s ease;
        }
        .message-container a:hover,
        .message-container a:focus {
            text-decoration: underline;
            color: #0d47a1;
        }
        .small-text {
            font-size: 0.9em;
            color: #7f8c8d;
            margin-top: 2em;
        }
    </style>
</head>
<body>
    <div class="message-container" role="main">
        <h1>Grazie per la segnalazione!</h1>
        <p>
            Il tuo client di posta dovrebbe aprirsi automaticamente per inviare la segnalazione al Comune di Genova e a Open Fiber.<br>
            L'email è pre-compilata con i dettagli del problema.
        </p>
        <p>
            Se il tuo client di posta non si è aperto o se preferisci inviare manualmente, clicca qui:
            <br>
            <a id="emailLink" href="#">
                Invia la Segnalazione Ora
            </a>.
        </p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const emailBody = `Spett.le Ufficio,%0A%0Acon la presente desidero segnalare un tombino%2C di propriet%C3%A0 Open Fiber%2C situato in Genova%2C Via G. B. Marsano %28altezza civ. 2 e incrocio Salita Noce%29 %E2%80%93 Coordinate esatte%3A 44.406921%2C 8.965831.%0A%0AL%27infrastruttura in questione risulta installata non correttamente o danneggiata%2C generando forti e ripetuti rumori al passaggio di ogni veicolo%2C nonch%C3%A9 un evidente disagio acustico per i residenti della zona.%0A%0AConsiderata la natura del disservizio e l%27impatto sulla quiete pubblica%2C si richiede un intervento urgente per la verifica%2C la messa in sicurezza e la definitiva riparazione del tombino%2C al fine di ripristinare le condizioni di normale vivibilit%C3%A0 e garantire il rispetto delle normative vigenti in materia di inquinamento acustico%2C manutenzione delle infrastrutture pubbliche e quiete pubblica.%0A%0ACordiali saluti.`;

            const mailtoUrl = `mailto:assistenza@openfiber.it,urp@comune.genova.it?bcc=segnalage@gmail.com&subject=Segnalazione%3A%20Tombino%20Open%20Fiber%20in%20Via%20G.%20B.%20Marsano%20%2F%20Salita%20Noce%20%28Genova%29&body=${emailBody}`;

            // Set the href for the manual link
            document.getElementById('emailLink').href = mailtoUrl;

            // Attempt to open the mailto link immediately
            window.location.href = mailtoUrl;
        });
    </script>
</body>
</html>
